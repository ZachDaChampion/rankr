(function(e){function t(t){for(var r,o,i=t[0],s=t[1],u=t[2],p=0,l=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(l.length)l.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(r=!1)}r&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a={app:0},c=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-5ae4df35":"4badd311"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-5ae4df35":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-5ae4df35":"f1f6c11c"}[e]+".css",a=s.p+r,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],p=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(p===r||p===a))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){u=l[i],p=u.getAttribute("data-href");if(p===r||p===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],d.parentNode.removeChild(d),n(c)},d.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=c);var u,p=document.createElement("script");p.charset="utf-8",p.timeout=120,s.nc&&p.setAttribute("nonce",s.nc),p.src=i(e);var l=new Error;u=function(t){p.onerror=p.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:p})}),12e4);p.onerror=p.onload=u,document.head.appendChild(p)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],p=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var d=p;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";var r=n("85ec"),o=n.n(r);o.a},2176:function(e,t,n){"use strict";var r=n("3bd1"),o=n.n(r);o.a},"21be":function(e,t,n){e.exports=n.p+"img/no_poster.0ae0ebf5.jpg"},"3bd1":function(e,t,n){},"54e5":function(e,t,n){"use strict";var r=n("e917"),o=n.n(r);o.a},"600e":function(e,t,n){"use strict";var r=n("78b9"),o=n.n(r);o.a},"78b9":function(e,t,n){},"7c10":function(e,t,n){"use strict";var r=n("f72c"),o=n.n(r);o.a},"7c1a":function(e,t,n){"use strict";var r=n("c5c8"),o=n.n(r);o.a},"85ec":function(e,t,n){},c5c8:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],c=(n("034f"),n("2877")),i={},s=Object(c["a"])(i,o,a,!1,null,null,null),u=s.exports,p=(n("d3b7"),n("8c4f")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"selector"},[n("div",{attrs:{id:"title-with-shadow"}}),n("title-area",{attrs:{id:"title"}}),n("search-box",{attrs:{id:"search",focus:!0}}),n("poster-grid")],1)},d=[],f=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-area",staticStyle:{height:"50vh"}},[n("div",{attrs:{id:"title-container"}},[n("h1",[e._v("rankr")]),n("h2",[e._v("Rank things accurately.")])])])}],m=n("d4ec"),v=n("262e"),g=n("2caf"),b=n("9ab4"),y=n("60a3"),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],style:{minWidth:e.msg.length>15?"min(calc(100vw - 256px), 1024px)":"min(calc(100vw - 256px), 420px)"},attrs:{autofocus:!!e.focus,id:"box",placeholder:"Search for a show to rank"},domProps:{value:e.msg},on:{input:function(t){t.target.composing||(e.msg=t.target.value)}}})])},j=[],k=(n("99af"),n("d81d"),n("b0c0"),n("498a"),n("bee2")),w=n("b012"),C=n.n(w),x=n("bc3a"),S=n.n(x),_=function(e){Object(v["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.msg=e.$store.state.searchTerm,e.onPropertyChanged=C()((function(t){e.$store.dispatch("updateSearchTerm",t),t.trim()&&S.a.get("http://localhost:3000/tvsearch?search=".concat(t)).then((function(t){return e.refreshSearchResults(t.data)}))}),e.debounceTime),e}return Object(k["a"])(n,[{key:"refreshSearchResults",value:function(e){console.log("DATA",e);var t=e.map((function(e){return{id:e.id,title:"".concat(e.name," (").concat(e.year,")"),link:e.poster_path}}));this.$store.dispatch("updateSearchResults",t)}}]),n}(y["c"]);Object(b["a"])([Object(y["b"])({required:!0})],_.prototype,"focus",void 0),Object(b["a"])([Object(y["b"])({required:!1,default:1e3})],_.prototype,"debounceTime",void 0),Object(b["a"])([Object(y["d"])("msg")],_.prototype,"onPropertyChanged",void 0),_=Object(b["a"])([y["a"]],_);var E=_,T=E,P=(n("7c1a"),Object(c["a"])(T,O,j,!1,null,"96b3cce8",null)),R=P.exports,$=function(e){Object(v["a"])(n,e);var t=Object(g["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return n}(y["c"]);$=Object(b["a"])([Object(y["a"])({components:{SearchBox:R}})],$);var A=$,I=A,q=(n("7c10"),Object(c["a"])(I,f,h,!1,null,"627b629e",null)),L=q.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"poster-grid",attrs:{name:"slide"}},e._l(e.posters,(function(e){return n("poster-preview",{key:e.id,staticClass:"poster",attrs:{title:e.title,"img-link":e.link,id:e.id,"poster-width":"250px"}})})),1)},B=[],D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poster-preview",style:{width:e.posterWidth},on:{click:function(t){return e.navigate()}}},[n("img",{style:{height:e.posterHeight,width:e.posterWidth},attrs:{id:"img",src:e.compImgLink}}),n("h2",[e._v(e._s(e.title))])])},W=[],M=(n("25f0"),function(e){Object(v["a"])(r,e);var t=Object(g["a"])(r);function r(){return Object(m["a"])(this,r),t.apply(this,arguments)}return Object(k["a"])(r,[{key:"navigate",value:function(){this.$store.dispatch("updateCache",{name:this.id.toString(),data:this.title}),this.$router.push({path:"compare",query:{id:this.id.toString()}})}},{key:"posterHeight",get:function(){return 1.5*parseInt(this.posterWidth,10)+"px"}},{key:"compImgLink",get:function(){return this.imgLink||n("21be")}}]),r}(y["c"]));Object(b["a"])([Object(y["b"])({required:!0})],M.prototype,"imgLink",void 0),Object(b["a"])([Object(y["b"])({required:!0})],M.prototype,"title",void 0),Object(b["a"])([Object(y["b"])({required:!0})],M.prototype,"posterWidth",void 0),Object(b["a"])([Object(y["b"])({required:!0})],M.prototype,"id",void 0),M=Object(b["a"])([y["a"]],M);var H=M,J=H,F=(n("600e"),Object(c["a"])(J,D,W,!1,null,"00a95d74",null)),G=F.exports,K=function(e){Object(v["a"])(n,e);var t=Object(g["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"posters",get:function(){return this.$store.state.searchResults}}]),n}(y["c"]);K=Object(b["a"])([Object(y["a"])({components:{PosterPreview:G}})],K);var U=K,z=U,Q=(n("2176"),Object(c["a"])(z,N,B,!1,null,"23a1ebfa",null)),V=Q.exports,X={name:"Selector",components:{TitleArea:L,SearchBox:R,PosterGrid:V}},Y=X,Z=(n("54e5"),Object(c["a"])(Y,l,d,!1,null,"7f6dd21d",null)),ee=Z.exports;r["a"].use(p["a"]);var te=[{path:"/",name:"Selector",component:ee},{path:"/compare",name:"Compare",component:function(){return n.e("chunk-5ae4df35").then(n.bind(null,"1405"))}}],ne=new p["a"]({mode:"history",base:"/",routes:te,scrollBehavior:function(){return{x:0,y:0}}}),re=ne,oe=(n("96cf"),n("1da1")),ae=n("2f62"),ce=n("bfa9");r["a"].use(ae["a"]);var ie=new ce["a"]({reducer:function(e){return{comparisons:e.comparisons,rankings:e.rankings}}}),se=new ae["a"].Store({state:{searchTerm:"",searchResults:Array(),comparisons:{},currentComparisons:{showId:"",firstEp:0,secondEp:0},cache:{},rankings:{}},mutations:{updateSearchTerm:function(e,t){e.searchTerm=t},updateSearchResults:function(e,t){e.searchResults=t},updateComparisons:function(e,t){r["a"].set(e.comparisons,t.id,t)},updateSingleComparison:function(e,t){console.log("COMPARISONS",e.comparisons[t[0].showId].comparisons),console.log("DATA",t[0].firstEp,t[0].secondEp),e.comparisons[t[0].showId].comparisons[t[0].firstEp][t[0].secondEp]=t[1],r["a"].set(e.comparisons[t[0].showId],"comparisonCount",e.comparisons[t[0].showId].comparisonCount+1)},updateCurrentComparisons:function(e,t){e.currentComparisons={showId:t.showId,firstEp:t.firstEp,secondEp:t.secondEp}},updateCache:function(e,t){r["a"].set(e.cache,t.name,t)},updateRankings:function(e,t){r["a"].set(e.rankings,t.showId,t.rankings)}},actions:{updateSearchTerm:function(e,t){e.commit("updateSearchTerm",t)},updateSearchResults:function(e,t){e.commit("updateSearchResults",t)},updateComparisons:function(e,t){e.commit("updateComparisons",t)},updateCurrentComparisons:function(e,t){e.commit("updateCurrentComparisons",t)},chooseComparisonWinner:function(e,t){var n,r,o=(null===(n=e.state.currentComparisons)||void 0===n?void 0:n.firstEp)===t?1:(null===(r=e.state.currentComparisons)||void 0===r?void 0:r.secondEp)===t?-1:0;e.commit("updateSingleComparison",[e.state.currentComparisons,o])},downloadComparisons:function(e,t){return Object(oe["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={},r.id=t,r.comparisonCount=0,n.next=5,S.a.get("http://localhost:3000/tvdetails?id=".concat(t));case 5:for(r.lookup=n.sent.data,r.comparisons=[],o=0;o<r.lookup.length;++o)for(r.comparisons[o]=[],a=0;a<r.lookup.length;++a)r.comparisons[o][a]=null;return n.next=10,e.commit("updateComparisons",r);case 10:return n.abrupt("return",n.sent);case 11:case"end":return n.stop()}}),n)})))()},updateCache:function(e,t){var n={name:t.name,data:t.data,expire:t.expire,created:t.created||(t.expire?Date.now():void 0)};e.commit("updateCache",n)},updateRankings:function(e,t){e.commit("updateRankings",t)}},getters:{getComparisons:function(e){return function(t){return e.comparisons[t]}},getCached:function(e){return function(t){if(e.cache[t])return e.cache[t].expire?Date.now()-e.cache[t].created<e.cache[t].expire?e.cache[t].data:void 0:e.cache[t].data}},getRankings:function(e){return function(t){return e.rankings[t]}},getProgress:function(e){return function(t){return void 0===e.comparisons[t]?0:e.comparisons[t].comparisonCount/((e.comparisons[t].lookup.length*e.comparisons[t].lookup.length-e.comparisons[t].lookup.length)/2)}}},modules:{},plugins:[ie.plugin]});r["a"].config.productionTip=!1,new r["a"]({router:re,store:se,render:function(e){return e(u)}}).$mount("#app")},e917:function(e,t,n){},f72c:function(e,t,n){}});
//# sourceMappingURL=app.1edbba32.js.map